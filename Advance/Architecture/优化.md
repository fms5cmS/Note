# 页面优化

- 页面优化技术

1. 页面缓存 + URL 缓存 + 对象缓存
2. 页面静态化，前后端分离
   - 即使做了页面缓存，客户端还是需要从服务端下载页面数据，但是如果做了静态化，浏览器可以把 HTML 缓存在客户端，这样，页面数据就不需要重复下载了，只需要下载动态数据即可。
   - 常用技术：AngularJS、Vue.js
   - 优点：利用浏览器的缓存
3. 静态资源优化
   - JS、CSS压缩，减少流量
   - 多个JS、CSS组合，减少连接数
   - CDN就近访问
4. CDN 优化

---

- 页面缓存

页面缓存：访问页面时不是直接让系统帮忙渲染，而是先从缓存中取，如果取到则直接返回给客户端，如果没有，则手动渲染模板，渲染后再把结果输出给客户端，同时把结果缓存。

1. 去缓存
2. 手动渲染模板
3. 结果输出



# 服务端优化

通过异步处理和排队机制缓解数据库的压力，降低应用接口负载

以秒杀为例：思路（减少数据库访问）

- 秒杀接口优化：
  1. 系统初始化，把商品库存数量加载到Redis中；
  2. 收到请求，Redis预减库存，库存不足，直接返回，否则执行下一步；
  3. 请求入队，立即返回排队中；
  4. 请求出对，生成订单，减少库存；
  5. 客户端轮询，是否秒杀成功。

