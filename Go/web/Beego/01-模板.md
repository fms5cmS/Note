```go
type HomeController struct {
  beego.Controller
}

func (this *HomeController) Get() {
  //指定模板文件
  this.TplName = "index.html"
  //设置模板文件中变量的值
  this.Data["Website"] = "beego.me"
  this.Data["Email"] = "astaxie@gmail.com"
}
```

模板文件：这里仅列出上面变量相关的部分

```html
<body>
  <footer>
    <div class="author">
      Official website:
      <!--通过 {{.变量名}} 的方式获取变量值-->
      <a href="http://{{.Website}}">{{.Website}}</a> /
      Contact me:
      <a class="email" href="mailto:{{.Email}}">{{.Email}}</a>
    </div>
  </footer>
</body>
```

以下实例中 Go 代码都是在 cotroller 中，假设都是在 `Get() `中。

# 条件判断

```go
this.Data["Condition"] = true
```

```html
<div>
  {{if .Condition}}
  	true condition
  {{else}}
  	false condition
  {{end}}
</div>
```



# 传递结构体

```go
  type user struct {
    Name string
    Age  int
    Sex  string
  }
  u := user{
    Name: "bx",
    Age:  25,
    Sex:  "Female",
  }
  this.Data["user"] = u
```

```html
  <div>{{.user.Name}}~~{{.user.Age}}~~{{.user.Sex}}</div>
	<!--上面的 user 写了三次，可以使用以下方式来简化-->
  <div>
    {{with .user}}
    	{{.Name}}---{{.Age}}---{{.Sex}}
    {{end}}
  </div>
```



# 循环

```go
this.Data["nums"] = []int{2, 4, 6, 8, 10, 12}
```

```html
  <div>{{.nums}}</div> <!--打印效果：[2 4 6 8 10 12]-->
	<!--循环打印：-->
  <div>
    {{range .nums}}
      {{.}}    <!--打印效果：2 4 6 8 10 12-->
    {{else}}  <!--range 中一个数据都没有-->
    	<div>无数据</div>
    {{end}}
  </div>
```



# 模板变量

```go
this.Data["TplVal"] = "hey guys" // 这里仅用于方便演示所以给模板变量传值
```

```html
  <div>
    {{$tplVal := .TplVal}}  <!--通过 $模板变量名 来使用模板变量-->
    {{$tplVal}}
  </div>
```



# 内置模板函数

```go
	this.Data["html"] = "<div>hello beego</div>"
	this.Data["pipe"] = "<div>hello beego</div>"
```

```html
	<!--Beego 内置的模板函数-->
	<!--以字符串显示-->
  {{.html}}
  <!--函数名 变量-->
  {{str2html .html}}

	<!--管道功效-->
	<div>{{.pipe | htmlquote}}</div>  
```



# 模板嵌套

T.navbar.tpl：

```html
{{define "navbar"}} <!--定义一个模板-->
<a class="navbar-brand" href="/">我的博客</a>
<div>
  <ul class="nav navbar-nav">
    <li {{if .IsHome}} class="active" {{end}}><a href="/">首页</a></li>
    <li {{if .IsCategory}} class="active" {{end}}><a href="/category">分类</a></li>
    <li {{if .IsTopic}} class="active" {{end}}><a href="/topic">文章</a></li>
  </ul>
</div>
<div class="pull-right">
  <ul class="nav navbar-nav">
    {{if .IsLogin}}
    <li><a href="/login?exit=true">退出</a></li>
    {{else}}
    <li><a href="/login">管理员登录</a></li>
    {{end}}
  </ul>
</div>
{{end}}
```

home.html：

```html
<body>
  <div class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <!--最后的 . 是为了在模板中进行逻辑操作可以传递过来-->
      {{template "navbar" .}} <!--引入模板-->
    </div>
  </div>
</body>
```

