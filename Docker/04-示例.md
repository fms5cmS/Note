## 安装MySQL

```shell
docker pull mysql:5.7
```

注意，如果使用`docker run -‐name mysql01 ‐d mysql:5.7`命令来启动是错误的，使用`docker ps -a`发现容器因为异常退出了，`docker logs mysql01`查看该容器的日志：

```shell
error: database is uninitialized and password option is not specified 
  You need to specify one of MYSQL_ROOT_PASSWORD, MYSQL_ALLOW_EMPTY_PASSWORD and MYSQL_RANDOM_ROOT_PASSWORD
#必须指定MYSQL_ROOT_PASSWORD、MYSQL_ALLOW_EMPTY_PASSWORD、MYSQL_RANDOM_ROOT_PASSWORD这三个参数中的任意一个
```

正确的启动：`docker run --name mysql01 -p 3306:3306 -e MYSQL_ROOT_PASSWORD=123456 -d mysql:5.7 `



几个高级操作：查看[文档](https://hub.docker.com/_/mysql/)。

```shell
#把主机的/conf/mysql文件夹挂载到 mysqldocker容器的/etc/mysql/conf.d文件夹里面
#改mysql的配置文件就只需要把mysql配置文件放在自定义的文件夹下（/conf/mysql）
docker run ‐‐name mysql01 ‐v /conf/mysql:/etc/mysql/conf.d ‐e MYSQL_ROOT_PASSWORD=123456 ‐d mysql:5.7

#指定mysql的一些配置参数
docker run ‐‐name some‐mysql ‐e MYSQL_ROOT_PASSWORD=123456 ‐d mysql:5.7 ‐‐character‐set‐ server=utf8mb4 ‐‐collation‐server=utf8mb4_unicode_ci
```

# 安装 Redis

```shell
mkdir /opt/docker/redis/conf
mkdir /opt/docker/redis/data
vim /opt/docker/redis/conf/redis.conf
```

一定要修改的配置内容如下：
```shell
# bind 127.0.0.1 这一行要注释掉，否则会被限制只能本地访问
protected-mode no #默认为 yes，开启保护模式，限制为本地访问
daemonize no  #默认为 no，改为 yes 会使配置文件方式启动 redis 失败
```

启动 Docker 容器：

```shell
docker run --name redis01 -p 6379:6379 -v /opt/docker/redis/conf/redis.conf:/etc/redis/redis.conf -v /opt/docker/redis/data:/data -d redis /etc/redis/redis.conf
```

进入容器进行测试：

```shell
docker exec -it redis01 redis-cli
# 如果有密码的话：
auth 密码
```