# 简介

[Dubbo](http://dubbo.apache.org/en-us/docs/user/preface/architecture.html)是Alibaba开源的分布式服务框架，最大的特点是按照分层的方式来架构，使用这种方式可以使各个层之间解耦合（或者最大限度地松耦合）。从服务模型的角度来看，Dubbo采用的是一种非常简单的模型，要么是提供方提供服务，要么是消费方消费服务，所以基于这一点可以抽象出服务提供方（Provider）和服务消费方（Consumer）两个角色。

Dubbo 提供了三大核心能力：面向接口的远程方法调用、智能容错和负载均衡、服务自动注册和发现。

主要解决服务之间远程过程调用的问题。

[SpringBoot整合Dubbo](https://github.com/apache/incubator-dubbo-spring-boot-project)

[使用文档](http://dubbo.apache.org/zh-cn/docs/user/quick-start.html)



# 架构

![Dubbo架构](https://dubbo.apache.org/imgs/dev/dubbo-framework.jpg)

| 节点        | 角色说明                               |
| ----------- | -------------------------------------- |
| `Provider`  | 暴露服务的服务提供方                   |
| `Consumer`  | 调用远程服务的服务消费方               |
| `Registry`  | 服务注册与发现的注册中心               |
| `Monitor`   | 统计服务的调用次数和调用时间的监控中心 |
| `Container` | 服务运行容器                           |

0、1、2步在应用启动时就会发生，完成初始化；3、5步是一个异步过程；4步是一个同步过程。

0. 服务容器负责启动，加载，运行服务提供者。
1. 服务提供者在启动时，向注册中心(支持多种注册中心，推荐使用 Zookeeper)注册自己提供的服务。
2. 服务消费者在启动时，向注册中心订阅自己所需的服务。
3. 注册中心返回服务提供者地址列表给消费者，如果有变更，注册中心将基于长连接推送变更数据给消费者。
4. 服务消费者，从提供者地址列表中，基于软负载均衡算法，选一台提供者进行调用，如果调用失败，再选另一台调用。
5. 服务消费者和提供者，在内存中累计调用次数和调用时间，定时每分钟发送一次统计数据到监控中心。