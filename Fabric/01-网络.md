
这里是对 [区块链网络](https://hyperledger-fabric.readthedocs.io/en/latest/network/network.html) 的记录。

# 1.创建网络

![creating the network](https://hyperledger-fabric.readthedocs.io/en/latest/_images/network.diagram.2.png)

定义 Channel Configuration CC1，该配置已被组织 R0、R1、R2 认同。

> 通常由 configtxgen 工具根据 configtx.yaml 文件生成

这些组织的定义及其管理员身份必须由每个组织相关联的证书颁发机构（Certificate Authority，CA）创建，如上图中 CA0、CA1、CA2。

## CA

CA(证书颁发机构)在网络中：

- 向管理员和网络节点分发 X.509 证书，用于识别其是否属于某个组织
- 用于交易签名，以表明组织已对交易结果背书

证书和成员组织的映射是通过成员服务提供者（Membership Service Provider, MSP）实现的！

# 将节点加入 Channel

![Join nodes to the channel](https://hyperledger-fabric.readthedocs.io/en/latest/_images/network.diagram.3.png)

R1 的 Peer P1、R2 的 Peer P2、R0 的排序服务 O 加入到了 Channel C1 中。C1 中的每个节点都存储了 C1 账本 L1 的副本，该副本将随每个新区块进行更新。

可以将 L1 视为物理托管在 P1 上，但逻辑上托管在 C1 上。

> 这里只有一个排序节点 1 加入了 Channel，但在生产环境中排序服务应至少包含三个节点。
>
> 排序服务仅包含账本的区块链部分，而不包含状态数据库。

Peers 是网络中的基本元素，用于托管账本和链码。因此，Peers 是组织连接到 Channel 的物理点之一（另一个是应用程序）。

排序服务从应用程序收集已背书的交易，并将其排序进交易区块中，随后分发到 Channel 中的每个 peer 中。在每个提交节点上，都会记录交易并适当更新账本的本地副本。排序服务对于特定 Channel 是唯一的，服务于该 Channel 的节点被称为 consenter set。
